<ion-view title="browse">

  <ion-pane ng-controller="cardsController" class="background-grey">
    <ion-header-bar class="bar-default">
      <h1 class="title">TD Cards 2</h1>
    </ion-header-bar>


    <!-- *************************
      TD Cards
      - We start off with an ng-if so that the cards are not generated
        unless $scope.cards is not 'null'
    ************************* -->
    <div ng-if="cards.active">
      <td-cards>
        <td-card ng-repeat="card in cards.active" on-destroy="cardDestroyed($index)"
                 on-swipe-left="cardSwipedLeft($index)" on-swipe-right="cardSwipedRight($index)">
          <div class="image" ng-controller="cardsController">
            <div class="no-text"><i class="icon ion-thumbsdown"></i></div>
            <div class="yes-text"><i class="icon ion-thumbsup"></i></div>
            <!-- *************************
              Discard
              - The card is removed from the deck and a fly away animation is triggered.
              - onClickTransitionOut is found in ionic.tdcards.js
              - Animation can be customized by changing defaults
            ************************* -->
            <img ng-src="{{ card.image }}">
          </div>
        </td-card>
        <!-- *************************
          End Card
          - 'drag' is set to false. The user cannot drag it.
          - 'refreshCards()' reloads all cards that have NOT been discarded.
        ************************* -->
        <td-card id="end-card" drag="false">
          <i class="icon ion-ios-refresh" ng-click="refreshCards()"></i>
        </td-card>
      </td-cards>
    </div>

  </ion-pane>
</ion-view>
